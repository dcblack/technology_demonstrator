#!/usr/bin/perl
eval 'exec perl -S $0 ${1+"$@"}'
    if 0;

use strict;
use warnings;
use Cwd qw(abs_path);
our %Opt;

while (@ARGV and $ARGV[0] =~ m{^-}) {
  $Opt{shift @ARGV}=1;
}#endwhile

my @RESULT;
for my $arg (@ARGV) {
  my $abs = abs_path($arg);
  if (not defined $abs) {
    $abs = '?-'.$arg.'-?';
  } elsif (not -e $abs and not exists $Opt{-new}) {
    $abs = '?-'.$arg.'-?';
  }#endif
  push @RESULT,$abs;
}#endfor
for my $file (@RESULT) {
  if ($file =~ m{^[?]-.*-[?]$}) {
    print $file,"\n" if exists $Opt{-v};
    next;
  }#endif
  print $file,"\n";
}#endif
exit 0;

# Author: David C Black <dcblack@hldwizard.com>
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#   http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
